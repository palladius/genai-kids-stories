<div id="<%= dom_id story %>">
  <h2>
      <%= link_to "ğŸ“", edit_story_path(story) %>
    <strong><%= link_to render_story_title(story), story %></strong>
  </h2>

      <%#= image_tag(story.cover_image.variant(:thumb)) if story.cover_image.attached? %>
      <%= image_tag(story.cover_image,  style: "float:right;height:200px;") if story.cover_image.attached? %>

      <%#= link_to story.cover_image.filename, story.cover_image if story.cover_image.attached? %>

    <i><%= story.genai_summary %></i>

    <% story.paragraphs.each do |p|  %>
  <p>
    ğŸ”¸ <%= p %>
  </p>
    <% end  %>

<h3>ğŸ“ˆ Story Stats</h3>

<% %w{genai_summary genai_input genai_output internal_notes }.each do |xxx| %>
 -ğŸ“ˆ Size:  :<b><%=story.send(xxx).size rescue '?' %></b>B <%= xxx %> <br/>
<% end %>
-ğŸ“ˆ ImageAttached:  :<b><%=story.cover_image.attached? %></b>
<% if story.cover_image.attached? and story.cover_image.analyzed?
    #story.cover_image.analyze
%>
<!-- (file: <%= story.cover_image %>) -->
(metadata: <%= link_to 'todo', 'https://stackoverflow.com/questions/60130926/activestorage-get-image-dimensions-after-upload' %>
)
<% end %>

<br/>

<h3>Debug info</h3>
  <h4>genai_input</h4>
  <pre><%= story.genai_input %></pre>

  <h4>internal_notes</h4>
  <pre><%= story.internal_notes %></pre>


<hr/>

<h3>ğŸ‘¶ About Kiddo</h3>
  <p>
    <%= image_tag(story.kid.avatar, style: "float:left;height:100px;") if story.kid.avatar.attached? %>

    <strong>
     <%= link_to story.kid,story.kid %>
    </strong>
  </p>




</div>
